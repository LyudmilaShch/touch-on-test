(function(){"use strict";var t={9478:function(t,e,n){var a=n(5130),o=n(6768),l=(n(4114),n(8992),n(4520),n(2577),n(1454),n(144)),u=n(4232),c=(0,o.pM)({__name:"ContactItem",props:{contact:{}},setup(t){return(t,e)=>((0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",null,[e[0]||(e[0]=(0,o.Lk)("span",{class:"bold"},"Имя: ",-1)),(0,o.Lk)("span",null,(0,u.v_)(t.contact.name),1)]),(0,o.Lk)("div",null,[e[1]||(e[1]=(0,o.Lk)("span",{class:"bold"},"Email: ",-1)),(0,o.Lk)("span",null,(0,u.v_)(t.contact.email),1)]),(0,o.Lk)("div",null,[e[2]||(e[2]=(0,o.Lk)("span",{class:"bold"},"Телефон: ",-1)),(0,o.Lk)("span",null,(0,u.v_)(t.contact.phone),1)])]))}});const i=c;var r=i;const s={class:"contact-list"},d={class:"buttons"},v=["onClick"],p=["onClick"];var m=(0,o.pM)({__name:"ContactList",props:{contactList:{required:!0,type:Array}},emits:["delete-contact","update-contact"],setup(t,{emit:e}){const n=e,l=t=>{n("delete-contact",t)},u=t=>{n("update-contact",t)};return(e,n)=>((0,o.uX)(),(0,o.CE)("div",null,[n[0]||(n[0]=(0,o.Lk)("h2",null,"Список контактов",-1)),(0,o.Lk)("ul",s,[(0,o.bF)(a.F,{name:"list"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.contactList,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.id,class:"contact-item"},[(0,o.bF)(r,{contact:t},null,8,["contact"]),(0,o.Lk)("div",d,[(0,o.Lk)("button",{onClick:e=>u(t.id)},"Редактировать",8,v),(0,o.Lk)("button",{onClick:e=>l(t.id),class:"grey-button"},"Удалить",8,p)])])))),128))])),_:1})])]))}}),f=n(1241);const b=(0,f.A)(m,[["__scopeId","data-v-312acccb"]]);var k=b,C=(0,o.pM)({__name:"SearchQuery",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=(0,o.fn)(t,"modelValue");return(t,n)=>((0,o.uX)(),(0,o.CE)("div",null,[n[1]||(n[1]=(0,o.Lk)("h2",null,"Поиск контактов",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>e.value=t),placeholder:"Поиск по имени"},null,512),[[a.Jo,e.value]])]))}});const h=C;var L=h,_=n(7382);const y={class:"form__buttons"},g={type:"submit"};var E=(0,o.pM)({__name:"ContactForm",props:{editContact:{}},emits:["add-contact","save-contact","cancel-edit"],setup(t,{emit:e}){const n=(0,l.KR)({name:"",email:"",phone:""}),c=t,i=e,r=()=>{n.value.name="",n.value.email="",n.value.phone=""},s=()=>{c.editContact?i("save-contact",n.value):i("add-contact",n.value),r()},d=()=>{i("cancel-edit")};return(0,o.wB)((()=>c.editContact),(()=>{c.editContact?n.value={...c.editContact}:r()})),(t,e)=>((0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("h2",null,(0,u.v_)(t.editContact?"Редактирование контакта":"Создать контакт"),1),(0,o.Lk)("form",{onSubmit:(0,a.D$)(s,["prevent"])},[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>n.value.name=t),placeholder:"Имя",required:""},null,512),[[a.Jo,n.value.name]]),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=t=>n.value.email=t),placeholder:"Email",required:""},null,512),[[a.Jo,n.value.email]]),(0,o.bo)((0,o.Lk)("input",{"data-maska":"+7 (###)###-##-##",type:"tel","onUpdate:modelValue":e[2]||(e[2]=t=>n.value.phone=t),placeholder:"Телефон",required:""},null,512),[[(0,l.R1)(_.qM)],[a.Jo,n.value.phone]]),(0,o.Lk)("div",y,[(0,o.Lk)("button",g,(0,u.v_)(t.editContact?"Сохранить контакт":"Добавить контакт"),1),t.editContact?((0,o.uX)(),(0,o.CE)("button",{key:0,type:"button",onClick:(0,a.D$)(d,["prevent"]),class:"grey-button"},"Отменить")):(0,o.Q3)("",!0)])],32)]))}});const O=(0,f.A)(E,[["__scopeId","data-v-bff37810"]]);var w=O,S=n(4963);const M=[{id:"ab8dfbbd4bed",name:"Иван",email:"ivan@mail.ru",phone:"79994446657"}];class V{static async getContacts(){return await new Promise((t=>{setTimeout((()=>t(M)),1e3)}))}}const X={key:0,className:"contain"},F={key:1,className:"contain"},x={className:"contacts-box"};var I=(0,o.pM)({__name:"MainPage",setup(t){const e=(0,l.KR)([]),n=(0,l.KR)(""),a=(0,l.KR)(),u=(0,l.KR)(!0),c=(0,o.EW)((()=>e.value.filter((t=>t.name.toLowerCase().includes(n.value.toLowerCase()))))),i=t=>{t.name.trim()&&t.email.trim()&&t.phone.trim()&&(e.value.push({id:`${(0,S.A)()}`,...t}),localStorage.setItem("contacts",JSON.stringify(e.value)))},r=t=>{a.value=e.value.find((e=>e.id===t))},s=t=>{e.value=e.value.map((e=>e.id===a.value?.id?{id:a.value?.id,...t}:e)),localStorage.setItem("contacts",JSON.stringify(e.value)),a.value=void 0},d=t=>{e.value=e.value.filter((e=>e.id!==t)),localStorage.setItem("contacts",JSON.stringify(e.value))};return(0,o.KC)((async()=>{u.value=!0;const t=localStorage.getItem("contacts");e.value=t?JSON.parse(t):await V.getContacts(),u.value=!1})),(t,e)=>u.value?((0,o.uX)(),(0,o.CE)("div",X,"Загрузка...")):((0,o.uX)(),(0,o.CE)("div",F,[(0,o.Lk)("div",x,[e[2]||(e[2]=(0,o.Lk)("h1",null,"Управление контактами",-1)),(0,o.bF)(w,{onAddContact:i,onSaveContact:s,onCancelEdit:e[0]||(e[0]=t=>a.value=void 0),"edit-contact":a.value},null,8,["edit-contact"]),(0,o.bF)(L,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t)},null,8,["modelValue"]),(0,o.bF)(k,{contactList:c.value,onUpdateContact:r,onDeleteContact:d},null,8,["contactList"])])]))}});const J=I;var K=J,N=(0,o.pM)({__name:"App",setup(t){return(t,e)=>((0,o.uX)(),(0,o.Wv)(K))}});const j=N;var A=j;(0,a.Ef)(A).mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var l=e[a]={exports:{}};return t[a].call(l.exports,l,l.exports,n),l.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,l){if(!a){var u=1/0;for(s=0;s<t.length;s++){a=t[s][0],o=t[s][1],l=t[s][2];for(var c=!0,i=0;i<a.length;i++)(!1&l||u>=l)&&Object.keys(n.O).every((function(t){return n.O[t](a[i])}))?a.splice(i--,1):(c=!1,l<u&&(u=l));if(c){t.splice(s--,1);var r=o();void 0!==r&&(e=r)}}return e}l=l||0;for(var s=t.length;s>0&&t[s-1][2]>l;s--)t[s]=t[s-1];t[s]=[a,o,l]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,l,u=a[0],c=a[1],i=a[2],r=0;if(u.some((function(e){return 0!==t[e]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(i)var s=i(n)}for(e&&e(a);r<u.length;r++)l=u[r],n.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return n.O(s)},a=self["webpackChunktouch_on_test"]=self["webpackChunktouch_on_test"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(9478)}));a=n.O(a)})();
//# sourceMappingURL=app.d2b0c29a.js.map